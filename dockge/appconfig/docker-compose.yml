# Dockge - Core App
# Port: 6002 (Web UI)
# Docker Compose stack manager
# Configured to manage /cubeos/apps/ for user apps

services:
  dockge:
    image: louislam/dockge:latest
    container_name: cubeos-dockge
    restart: unless-stopped
    ports:
      - "192.168.42.1:6002:5001"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - ../appdata:/app/data
      # Dockge manages user apps in /cubeos/apps/
      - /cubeos/apps:/cubeos/apps
    environment:
      - TZ=${TZ:-Europe/Amsterdam}
      # Tell Dockge where stacks live
      - DOCKGE_STACKS_DIR=/cubeos/apps
    labels:
      - "cubeos.core=true"
      - "cubeos.category=management"
      - "cubeos.port=6002"
      - "cubeos.description=Dockge - Docker Compose manager"

networks:
  default:
    name: cubeos-network
    external: true
