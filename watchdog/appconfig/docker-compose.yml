# Watchdog Service
# No external port
# System health monitoring and auto-recovery

services:
  watchdog:
    image: ghcr.io/cubeos-app/watchdog:latest
    container_name: cubeos-watchdog
    restart: unless-stopped
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - ../appdata:/app/data
    environment:
      - TZ=${TZ:-UTC}
      - GATEWAY_IP=10.42.24.1
      - CHECK_INTERVAL=30
    env_file:
      - /cubeos/config/defaults.env
    deploy:
      resources:
        limits:
          memory: 64M
    labels:
      - "cubeos.type=platform"
      - "cubeos.category=system"
      - "cubeos.description=System Watchdog"
